<div class="admin-container">
    <div class="admin-header">
        <h2>Booking <span>Management</span></h2>
        <div class="header-actions">
            <button class="btn-action btn-confirm" (click)="loadBookings()">Refresh Data</button>
        </div>
    </div>

    <div class="management-card">
        <div *ngIf="bookings.length > 0; else emptyState">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Date & Time</th>
                        <th>Table Info</th>
                        <th>Customer Details</th>
                        <th>Guests</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let booking of bookings">
                        <td>
                            <strong>{{ booking.date | date:'mediumDate' }}</strong><br>
                            <small>{{ booking.timeSlot }}</small>
                        </td>
                        <td>
                            <strong>Table {{ booking.table?.tableNumber }}</strong><br>
                            <small>{{ booking.table?.location }}</small>
                        </td>
                        <td>
                            <strong>{{ booking.user?.name || 'Guest' }}</strong><br>
                            <small>{{ booking.user?.email }}</small>
                        </td>
                        <td>{{ booking.guests }} Pax</td>
                        <td>
                            <span class="status-badge" [class]="'status-' + booking.status.toLowerCase()">
                                {{ booking.status }}
                            </span>
                        </td>
                        <td>
                            <button *ngIf="booking.status === 'Pending'" class="btn-action btn-confirm"
                                (click)="confirmBooking(booking._id!)">
                                Approve
                            </button>
                            <button *ngIf="booking.status !== 'Cancelled' && booking.status !== 'Completed'"
                                class="btn-action btn-cancel" (click)="cancelBooking(booking._id!)">
                                Cancel
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <ng-template #emptyState>
            <div class="empty-state">
                <span class="empty-icon">ðŸ“…</span>
                <h3>No Bookings Found</h3>
                <p>Current list of table reservations will appear here.</p>
            </div>
        </ng-template>
    </div>
</div>