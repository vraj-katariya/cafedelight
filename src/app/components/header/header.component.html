<header class="header">
    <div class="header-container">
        <a routerLink="/" class="logo">
            <span class="logo-icon">☕</span>
            <span class="logo-text">The Coffee Culture</span>
        </a>

        <button class="menu-toggle" [class.open]="isMenuOpen" (click)="toggleMenu()" aria-label="Toggle menu">
            <span class="hamburger"></span>
        </button>

        <!-- Overlay for closing menu -->
        <div class="menu-overlay" [class.show]="isMenuOpen" (click)="isMenuOpen = false"></div>

        <nav class="nav" [class.open]="isMenuOpen">
            <div class="nav-header" *ngIf="isMenuOpen">
                <span class="logo-text">Navigation</span>
                <button class="close-sidebar" (click)="isMenuOpen = false">×</button>
            </div>
            @if (!authService.isLoggedIn) {
            <!-- Guest View -->
            <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}"
                (click)="isMenuOpen = false">Home</a>
            <a routerLink="/login" routerLinkActive="active" (click)="isMenuOpen = false">Login</a>
            <a routerLink="/register" routerLinkActive="active" (click)="isMenuOpen = false"
                class="btn-register">Register</a>
            } @else {
            <!-- Admin View -->
            @if (authService.isAdmin) {
            <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}"
                (click)="isMenuOpen = false">Home</a>
            <a routerLink="/menu" routerLinkActive="active" (click)="isMenuOpen = false">Menu</a>
            <a routerLink="/admin" routerLinkActive="active" (click)="isMenuOpen = false">Admin Panel</a>
            <button class="btn-logout" (click)="logout()">Logout</button>
            } @else {
            <!-- Client View -->
            <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}"
                (click)="isMenuOpen = false">Home</a>
            <a routerLink="/menu" routerLinkActive="active" (click)="isMenuOpen = false">Menu</a>
            <a routerLink="/cart" routerLinkActive="active" (click)="isMenuOpen = false" class="cart-link">
                Cart
                @if (cartService.itemCount > 0) {
                <span class="cart-badge">{{ cartService.itemCount }}</span>
                }
            </a>
            <a routerLink="/orders" routerLinkActive="active" (click)="isMenuOpen = false">Orders</a>
            <a routerLink="/dashboard" routerLinkActive="active" (click)="isMenuOpen = false">Dashboard</a>
            <a routerLink="/booking" routerLinkActive="active" (click)="isMenuOpen = false">Book the Table</a>
            <button class="btn-logout" (click)="logout()">Logout</button>
            }
            }
        </nav>
    </div>
</header>