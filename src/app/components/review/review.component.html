<div class="review-wrapper">
  <div class="review-container">
    <h2 class="section-title">Customer <span>Reviews</span></h2>

    <!-- Add Review Form -->
    <div class="add-review-section" *ngIf="showReviewForm">
      <div class="glass-card form-card">
        <h4>Share Your Experience</h4>
        <form (ngSubmit)="submitReview()">
          <div class="form-group">
            <label>Your Rating</label>
            <div class="stars-input">
              <span *ngFor="let star of [1,2,3,4,5]" class="star-btn" [class.active]="star <= review.rating"
                (click)="setRating(star)">
                â˜…
              </span>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>Your Name</label>
              <input type="text" [(ngModel)]="review.customerName" name="customerName" required
                placeholder="e.g. Vraj Katariya">
            </div>
          </div>

          <div class="form-group">
            <label>Your Message</label>
            <textarea [(ngModel)]="review.comment" name="comment" required rows="3"
              placeholder="How was the food and service?"></textarea>
          </div>

          <div class="form-actions">
            <button type="submit" class="btn-submit">Submit Review</button>
            <button type="button" class="btn-cancel" (click)="cancelReview()">Cancel</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Reviews List -->
    <div class="reviews-list">
      <div class="list-header">
        <div>
          <h3>What our customers say</h3>
          <p class="subtitle" *ngIf="reviews.length > 0">Based on {{ reviews.length }} reviews</p>
        </div>
        <button class="btn-write" (click)="showReviewForm = true" *ngIf="!showReviewForm">
          Write a Review
        </button>
      </div>

      <div class="reviews-grid">
        <div class="review-card glass-card" *ngFor="let review of reviews">
          <div class="card-top">
            <div class="user-meta">
              <div class="user-avatar">
                {{ review.customerName.charAt(0).toUpperCase() }}
              </div>
              <div class="user-info">
                <strong>{{ review.customerName }}</strong>
                <span class="review-date">{{ review.date | date: 'mediumDate' }}</span>
              </div>
            </div>
            <div class="card-rating">
              <span *ngFor="let star of [1,2,3,4,5]" class="star-icon" [class.filled]="star <= review.rating">
                â˜…
              </span>
            </div>
          </div>
          <div class="card-body">
            <p>{{ review.comment }}</p>
          </div>
        </div>
      </div>

      <div class="no-reviews-state glass-card" *ngIf="reviews.length === 0">
        <span class="icon">ðŸ’¬</span>
        <p>No reviews yet. Be the first to share your experience!</p>
      </div>
    </div>
  </div>
</div>