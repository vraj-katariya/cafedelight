import{a as P}from"./chunk-JLV7PS2X.js";import{b as O,c as m,d as w,e as S,g as L,j as y,k as F,q as E,s as k}from"./chunk-UFBRTC2V.js";import{d as x,e as M,h as v}from"./chunk-5EQP7JGP.js";import{Da as C,Oa as l,Pa as s,Ta as u,Ua as a,Ub as b,Va as d,Wa as g,ab as _,cb as p,ib as f,kb as i,mb as h,qa as r,ya as c}from"./chunk-IDMXUBOL.js";function N(e,t){if(e&1&&(a(0,"div",3),i(1),d()),e&2){let n=p();r(),h(" ",n.errorMessage," ")}}function z(e,t){e&1&&i(0," Email is required ")}function A(e,t){e&1&&i(0," Please enter a valid email ")}function D(e,t){if(e&1&&(a(0,"span",8),l(1,z,1,0)(2,A,1,0),d()),e&2){let n=p();r(),s(n.f.email.errors!=null&&n.f.email.errors.required?1:n.f.email.errors!=null&&n.f.email.errors.email?2:-1)}}function q(e,t){e&1&&i(0," Password is required ")}function G(e,t){e&1&&i(0," Password must be at least 6 characters ")}function I(e,t){if(e&1&&(a(0,"span",8),l(1,q,1,0)(2,G,1,0),d()),e&2){let n=p();r(),s(n.f.password.errors!=null&&n.f.password.errors.required?1:n.f.password.errors!=null&&n.f.password.errors.minlength?2:-1)}}function R(e,t){e&1&&(g(0,"span",14),i(1," Signing in... "))}function j(e,t){e&1&&i(0," Sign In ")}var T=class e{constructor(t,n,o){this.fb=t;this.authService=n;this.router=o;this.loginForm=this.fb.group({email:["",[m.required,m.email]],password:["",[m.required,m.minLength(6)]]})}loginForm;isLoading=!1;errorMessage="";onSubmit(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched();return}this.isLoading=!0,this.errorMessage="",this.authService.login(this.loginForm.value).subscribe({next:t=>{this.isLoading=!1,t.success&&(this.authService.isAdmin?this.router.navigate(["/admin"]):this.router.navigate(["/booking"]))},error:t=>{this.isLoading=!1,this.errorMessage=t.error?.message||"Login failed. Please try again."}})}get f(){return this.loginForm.controls}static \u0275fac=function(n){return new(n||e)(c(E),c(P),c(x))};static \u0275cmp=C({type:e,selectors:[["app-login"]],decls:27,vars:10,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-header"],[1,"error-alert"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Enter your email"],[1,"error-text"],["for","password"],["type","password","id","password","formControlName","password","placeholder","Enter your password"],["type","submit",1,"btn-submit",3,"disabled"],[1,"auth-footer"],["routerLink","/register"],[1,"spinner"]],template:function(n,o){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),i(4,"Welcome Back"),d(),a(5,"p"),i(6,"Sign in to continue to Cafe Delight"),d()(),l(7,N,2,1,"div",3),a(8,"form",4),_("ngSubmit",function(){return o.onSubmit()}),a(9,"div",5)(10,"label",6),i(11,"Email Address"),d(),g(12,"input",7),l(13,D,3,1,"span",8),d(),a(14,"div",5)(15,"label",9),i(16,"Password"),d(),g(17,"input",10),l(18,I,3,1,"span",8),d(),a(19,"button",11),l(20,R,2,0)(21,j,1,0),d()(),a(22,"div",12)(23,"p"),i(24,"Don't have an account? "),a(25,"a",13),i(26,"Create one"),d()()()()()),n&2&&(r(7),s(o.errorMessage?7:-1),r(),u("formGroup",o.loginForm),r(4),f("error",o.f.email.touched&&o.f.email.invalid),r(),s(o.f.email.touched&&o.f.email.invalid?13:-1),r(4),f("error",o.f.password.touched&&o.f.password.invalid),r(),s(o.f.password.touched&&o.f.password.invalid?18:-1),r(),u("disabled",o.isLoading),r(),s(o.isLoading?20:21))},dependencies:[b,v,M,k,L,O,w,S,F,y],styles:[".auth-container[_ngcontent-%COMP%]{min-height:calc(100vh - 200px);display:flex;align-items:center;justify-content:center;padding:2rem}.auth-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a1a2e,#16213e);border-radius:24px;padding:3rem;width:100%;max-width:450px;box-shadow:0 20px 60px #0000004d;border:1px solid rgba(255,255,255,.1)}.auth-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.auth-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2rem;margin-bottom:.5rem}.auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888}.error-alert[_ngcontent-%COMP%]{background:#e74c3c1a;border:1px solid #e74c3c;color:#e74c3c;padding:1rem;border-radius:12px;margin-bottom:1.5rem;text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:#fff;margin-bottom:.5rem;font-weight:500}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:1rem;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:12px;color:#fff;font-size:1rem;transition:all .3s ease;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#666}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#f39c12;box-shadow:0 0 0 3px #f39c121a}.form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%]{border-color:#e74c3c}.error-text[_ngcontent-%COMP%]{color:#e74c3c;font-size:.85rem;margin-top:.5rem;display:block}.btn-submit[_ngcontent-%COMP%]{width:100%;padding:1rem;background:linear-gradient(135deg,#f39c12,#e74c3c);border:none;border-radius:12px;color:#fff;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 10px 30px #f39c124d}.btn-submit[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.auth-footer[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid rgba(255,255,255,.1)}.auth-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888}.auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f39c12;text-decoration:none;font-weight:500}.auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.demo-credentials[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;background:#f39c121a;border-radius:12px;border:1px solid rgba(243,156,18,.2)}.demo-credentials[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f39c12;margin-bottom:.5rem;font-size:.9rem}.demo-credentials[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#aaa;font-size:.85rem;margin:.25rem 0}@media(max-width:600px){.auth-container[_ngcontent-%COMP%]{padding:1rem}.auth-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}.auth-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem}}"]})};export{T as LoginComponent};
