import{a as U}from"./chunk-2Q7OKKZN.js";import{b as N,c,d as I,e as L,g as V,h as z,j as G,k as R,l as D,m as j,n as B,q,s as $}from"./chunk-UFBRTC2V.js";import{e as E,f as A,h as F}from"./chunk-5EQP7JGP.js";import{Da as T,Ha as x,Qb as y,Rb as k,T as u,Ta as m,U as f,Ua as t,Ub as w,Va as e,Wa as d,_a as S,a as M,ab as b,b as O,cb as _,hb as C,kb as n,lb as h,mb as g,qa as r,sb as P,ya as v}from"./chunk-IDMXUBOL.js";var J=()=>({exact:!0});function K(l,a){if(l&1){let i=S();t(0,"div",25)(1,"span",26),n(2),e(),t(3,"div",27)(4,"strong"),n(5),e(),n(6," Seats"),d(7,"br"),t(8,"small"),n(9),e(),d(10,"br"),t(11,"span"),n(12),e()(),t(13,"div",28)(14,"button",29),b("click",function(){let s=u(i).$implicit,p=_();return f(p.toggleAvailability(s))}),n(15," Toggle "),e(),t(16,"button",29),b("click",function(){let s=u(i).$implicit,p=_();return f(p.deleteTable(s._id))}),n(17," Remove "),e()()()}if(l&2){let i=a.$implicit;r(2),g("#",i.tableNumber),r(3),h(i.capacity),r(4),h(i.location),r(2),C("color",i.isAvailable?"#27ae60":"#e74c3c"),r(),g(" ",i.isAvailable?"Available":"Maintenance"," "),r(2),C("border-color","#2c3e50")("color","#2c3e50")}}function Q(l,a){l&1&&(t(0,"div",30)(1,"p"),n(2,"No tables added yet. Use the form to the left to start."),e()())}var H=class l{constructor(a,i){this.tableService=a;this.fb=i;this.tableForm=this.fb.group({tableNumber:["",c.required],capacity:["",[c.required,c.min(1)]],location:["Indoor",c.required]})}tables=[];tableForm;ngOnInit(){this.loadTables()}loadTables(){this.tableService.getTables().subscribe(a=>{this.tables=a.data})}addTable(){this.tableForm.invalid||this.tableService.createTable(this.tableForm.value).subscribe({next:()=>{this.loadTables(),this.tableForm.reset({location:"Indoor"}),alert("Table added successfully!")},error:a=>{alert(a.error.message||"Failed to add table. Table number may already exist.")}})}deleteTable(a){confirm("Are you sure you want to delete this table? This might affect existing bookings.")&&this.tableService.deleteTable(a).subscribe({next:()=>{this.loadTables()},error:i=>{alert(i.error.message||"Error deleting table")}})}toggleAvailability(a){let i=O(M({},a),{isAvailable:!a.isAvailable});this.tableService.updateTable(a._id,i).subscribe(()=>{this.loadTables()})}static \u0275fac=function(i){return new(i||l)(v(U),v(q))};static \u0275cmp=T({type:l,selectors:[["app-table-management"]],decls:49,vars:7,consts:[[1,"user-management"],[1,"admin-header"],[1,"highlight"],[1,"admin-nav"],["routerLink","/admin","routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/admin/users","routerLinkActive","active"],["routerLink","/admin/menu","routerLinkActive","active"],["routerLink","/admin/tables","routerLinkActive","active"],["routerLink","/admin/bookings","routerLinkActive","active"],[1,"management-wrapper"],[1,"form-card"],[3,"ngSubmit","formGroup"],[1,"form-group"],["type","number","formControlName","tableNumber","placeholder","e.g. 101",1,"form-control"],["type","number","formControlName","capacity","placeholder","No. of Persons",1,"form-control"],["formControlName","location",1,"form-control"],["value","Indoor"],["value","Outdoor"],["value","Rooftop"],["type","submit",1,"btn-submit",3,"disabled"],[1,"tables-list-card"],[1,"section-header"],[1,"tables-grid"],["class","table-item",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"table-item"],[1,"table-number"],[1,"table-meta"],[1,"table-actions"],[1,"btn-delete",3,"click"],[1,"empty-state"]],template:function(i,o){i&1&&(t(0,"div",0)(1,"div",1)(2,"h1"),n(3,"Table "),t(4,"span",2),n(5,"Management"),e()(),t(6,"div",3)(7,"a",4),n(8,"Overview"),e(),t(9,"a",5),n(10,"Users"),e(),t(11,"a",6),n(12,"Menu"),e(),t(13,"a",7),n(14,"Tables"),e(),t(15,"a",8),n(16,"Bookings"),e()()(),t(17,"div",9)(18,"div",10)(19,"h3"),n(20,"Add New Table"),e(),t(21,"form",11),b("ngSubmit",function(){return o.addTable()}),t(22,"div",12)(23,"label"),n(24,"Table Number"),e(),d(25,"input",13),e(),t(26,"div",12)(27,"label"),n(28,"Seating Capacity"),e(),d(29,"input",14),e(),t(30,"div",12)(31,"label"),n(32,"Location Area"),e(),t(33,"select",15)(34,"option",16),n(35,"Indoor (Main Hall)"),e(),t(36,"option",17),n(37,"Outdoor (Garden)"),e(),t(38,"option",18),n(39,"Rooftop Terrace"),e()()(),t(40,"button",19),n(41," Add Table to System "),e()()(),t(42,"div",20)(43,"div",21)(44,"h3"),n(45),e()(),t(46,"div",22),x(47,K,18,10,"div",23),e(),x(48,Q,3,0,"div",24),e()()()),i&2&&(r(7),m("routerLinkActiveOptions",P(6,J)),r(14),m("formGroup",o.tableForm),r(19),m("disabled",o.tableForm.invalid),r(5),g("Existing Tables (",o.tables.length,")"),r(2),m("ngForOf",o.tables),r(),m("ngIf",o.tables.length===0))},dependencies:[w,y,k,F,E,A,$,V,j,B,N,z,D,I,L,R,G],styles:[".user-management[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.admin-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;flex-direction:column;align-items:flex-start;gap:1.5rem}.admin-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;color:#fff;margin:0}.highlight[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b59b6,#8e44ad);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.admin-nav[_ngcontent-%COMP%]{display:flex;gap:.5rem}.admin-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5rem 1rem;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:8px;color:#fff;text-decoration:none;transition:all .3s ease}.admin-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#ffffff1a}.admin-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b59b6,#8e44ad);border-color:transparent}.management-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:350px 1fr;gap:2rem}.form-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a1a2e,#16213e);padding:2rem;border-radius:16px;border:1px solid rgba(255,255,255,.1);height:fit-content}.form-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1.5rem;color:#fff}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:600;color:#aaa}.form-control[_ngcontent-%COMP%]{width:100%;padding:.8rem;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:8px;color:#fff;font-size:1rem}.btn-submit[_ngcontent-%COMP%]{width:100%;padding:1rem;background:linear-gradient(135deg,#9b59b6,#8e44ad);color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:background .3s}.btn-submit[_ngcontent-%COMP%]:hover{opacity:.9}.tables-list-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a1a2e,#16213e);padding:2rem;border-radius:16px;border:1px solid rgba(255,255,255,.1)}.tables-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1.5rem}.table-item[_ngcontent-%COMP%]{background:#ffffff08;padding:1.5rem;border:1px solid rgba(255,255,255,.1);border-radius:12px;text-align:center;position:relative}.table-number[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;display:block}.table-meta[_ngcontent-%COMP%]{font-size:.9rem;color:#888;margin:.5rem 0}.table-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:center;margin-top:1rem}.btn-delete[_ngcontent-%COMP%]{flex:1;color:#e74c3c;background:#e74c3c1a;border:1px solid #e74c3c;padding:.4rem .6rem;border-radius:6px;cursor:pointer;font-size:.8rem}.btn-delete[_ngcontent-%COMP%]:hover{background:#e74c3c;color:#fff}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem;color:#888}@media(max-width:900px){.management-wrapper[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media(max-width:768px){.user-management[_ngcontent-%COMP%]{padding:1rem}.admin-nav[_ngcontent-%COMP%]{overflow-x:auto;padding-bottom:.5rem;width:100%;display:flex}.admin-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{white-space:nowrap;font-size:.85rem;padding:.4rem .8rem}.admin-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}}@media(max-width:480px){.tables-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};export{H as TableManagementComponent};
