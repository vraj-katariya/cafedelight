import{a as D}from"./chunk-VVO5EFFG.js";import{e as L,f as A,h as T}from"./chunk-5EQP7JGP.js";import{Da as v,Ha as s,Qb as B,Rb as w,T as f,Ta as l,Tb as y,U as _,Ua as e,Ub as I,Va as t,Wa as g,_a as k,ab as x,cb as c,gb as M,jb as O,kb as i,lb as m,mb as p,qa as o,sb as h,ub as P,wb as S,xb as E,ya as C}from"./chunk-IDMXUBOL.js";var F=()=>({exact:!0});function N(a,r){if(a&1){let n=k();e(0,"button",17),x("click",function(){f(n);let d=c().$implicit,b=c(2);return _(b.confirmBooking(d._id))}),i(1," Approve "),t()}}function V(a,r){if(a&1){let n=k();e(0,"button",18),x("click",function(){f(n);let d=c().$implicit,b=c(2);return _(b.cancelBooking(d._id))}),i(1," Cancel "),t()}}function R(a,r){if(a&1&&(e(0,"tr")(1,"td")(2,"strong"),i(3),P(4,"date"),t(),g(5,"br"),e(6,"small"),i(7),t()(),e(8,"td")(9,"strong"),i(10),t(),g(11,"br"),e(12,"small"),i(13),t()(),e(14,"td")(15,"strong"),i(16),t(),g(17,"br"),e(18,"small"),i(19),t()(),e(20,"td"),i(21),t(),e(22,"td")(23,"span",14),i(24),t()(),e(25,"td"),s(26,N,2,0,"button",15)(27,V,2,0,"button",16),t()()),a&2){let n=r.$implicit;o(3),m(S(4,12,n.date,"mediumDate")),o(4),m(n.timeSlot),o(3),p("Table ",n.table==null?null:n.table.tableNumber),o(3),m(n.table==null?null:n.table.location),o(3),m((n.user==null?null:n.user.name)||"Guest"),o(3),m(n.user==null?null:n.user.email),o(2),p("",n.guests," Pax"),o(2),O("status-"+n.status.toLowerCase()),o(),p(" ",n.status," "),o(2),l("ngIf",n.status==="Pending"),o(),l("ngIf",n.status!=="Cancelled"&&n.status!=="Completed")}}function $(a,r){if(a&1&&(e(0,"div")(1,"table",12)(2,"thead")(3,"tr")(4,"th"),i(5,"Date & Time"),t(),e(6,"th"),i(7,"Table Info"),t(),e(8,"th"),i(9,"Customer Details"),t(),e(10,"th"),i(11,"Guests"),t(),e(12,"th"),i(13,"Status"),t(),e(14,"th"),i(15,"Actions"),t()()(),e(16,"tbody"),s(17,R,28,15,"tr",13),t()()()),a&2){let n=c();o(17),l("ngForOf",n.bookings)}}function j(a,r){a&1&&(e(0,"div",19)(1,"span",20),i(2,"\u{1F4C5}"),t(),e(3,"h3"),i(4,"No Bookings Found"),t(),e(5,"p"),i(6,"Current list of table reservations will appear here."),t()())}var z=class a{constructor(r){this.bookingService=r}bookings=[];isLoading=!1;ngOnInit(){this.loadBookings()}loadBookings(){this.isLoading=!0,this.bookingService.getAllBookings().subscribe({next:r=>{this.bookings=r.data,this.isLoading=!1},error:()=>this.isLoading=!1})}cancelBooking(r){confirm("Are you sure you want to cancel this booking?")&&(this.isLoading=!0,this.bookingService.cancelBooking(r).subscribe({next:()=>this.loadBookings(),error:()=>this.isLoading=!1}))}confirmBooking(r){this.isLoading=!0,this.bookingService.updateStatus(r,"Confirmed").subscribe({next:()=>this.loadBookings(),error:()=>this.isLoading=!1})}static \u0275fac=function(n){return new(n||a)(C(D))};static \u0275cmp=v({type:a,selectors:[["app-admin-booking"]],decls:21,vars:4,consts:[["emptyState",""],[1,"user-management"],[1,"admin-header"],[1,"highlight"],[1,"admin-nav"],["routerLink","/admin","routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/admin/users","routerLinkActive","active"],["routerLink","/admin/menu","routerLinkActive","active"],["routerLink","/admin/tables","routerLinkActive","active"],["routerLink","/admin/bookings","routerLinkActive","active"],[1,"management-card"],[4,"ngIf","ngIfElse"],[1,"data-table"],[4,"ngFor","ngForOf"],[1,"status-badge"],["class","btn-action btn-confirm",3,"click",4,"ngIf"],["class","btn-action btn-cancel",3,"click",4,"ngIf"],[1,"btn-action","btn-confirm",3,"click"],[1,"btn-action","btn-cancel",3,"click"],[1,"empty-state"],[1,"empty-icon"]],template:function(n,u){if(n&1&&(e(0,"div",1)(1,"div",2)(2,"h1"),i(3,"Booking "),e(4,"span",3),i(5,"Management"),t()(),e(6,"div",4)(7,"a",5),i(8,"Overview"),t(),e(9,"a",6),i(10,"Users"),t(),e(11,"a",7),i(12,"Menu"),t(),e(13,"a",8),i(14,"Tables"),t(),e(15,"a",9),i(16,"Bookings"),t()()(),e(17,"div",10),s(18,$,18,1,"div",11)(19,j,7,0,"ng-template",null,0,E),t()()),n&2){let d=M(20);o(7),l("routerLinkActiveOptions",h(3,F)),o(11),l("ngIf",u.bookings.length>0)("ngIfElse",d)}},dependencies:[I,B,w,T,L,A,y],styles:[".user-management[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.admin-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;flex-direction:column;align-items:flex-start;gap:1.5rem}.admin-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;color:#fff;margin:0}.highlight[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b59b6,#8e44ad);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.admin-nav[_ngcontent-%COMP%]{display:flex;gap:.5rem}.admin-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5rem 1rem;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:8px;color:#fff;text-decoration:none;transition:all .3s ease}.admin-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#ffffff1a}.admin-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b59b6,#8e44ad);border-color:transparent}.management-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a1a2e,#16213e);border-radius:16px;padding:1rem;border:1px solid rgba(255,255,255,.1);overflow-x:auto;-webkit-overflow-scrolling:touch}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#0003;padding:1rem;text-align:left;font-weight:500;color:#888;font-size:.85rem;border-bottom:1px solid rgba(255,255,255,.05)}.data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.2rem 1rem;border-bottom:1px solid rgba(255,255,255,.05);vertical-align:middle;color:#fff}.data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#fff;display:block}.data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#888}.status-badge[_ngcontent-%COMP%]{padding:.3rem .75rem;border-radius:15px;font-size:.75rem;font-weight:600;text-transform:uppercase;display:inline-block}.status-pending[_ngcontent-%COMP%]{background:#f39c1233;color:#f39c12}.status-confirmed[_ngcontent-%COMP%]{background:#2ecc7133;color:#2ecc71}.status-cancelled[_ngcontent-%COMP%]{background:#e74c3c33;color:#e74c3c}.status-completed[_ngcontent-%COMP%]{background:#3498db33;color:#3498db}.btn-action[_ngcontent-%COMP%]{padding:.4rem .8rem;border-radius:6px;border:none;cursor:pointer;font-weight:500;font-size:.85rem;margin-bottom:.4rem;transition:all .2s}.btn-confirm[_ngcontent-%COMP%]{background:#2ecc7133;color:#2ecc71}.btn-cancel[_ngcontent-%COMP%]{background:#e74c3c33;color:#e74c3c}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem;color:#888}.empty-icon[_ngcontent-%COMP%]{font-size:4rem;display:block;margin-bottom:1rem}@media(max-width:768px){.user-management[_ngcontent-%COMP%]{padding:1rem}.admin-nav[_ngcontent-%COMP%]{overflow-x:auto;padding-bottom:.5rem;width:100%;display:flex}.admin-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{white-space:nowrap;font-size:.85rem;padding:.4rem .8rem}.admin-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;font-size:.9rem}}"]})};export{z as BookingManagementComponent};
