import{a as z}from"./chunk-3UGKLAU6.js";import{a as T}from"./chunk-JLV7PS2X.js";import{a as F}from"./chunk-K2DYP7YT.js";import{b as S,d as k}from"./chunk-5EQP7JGP.js";import{$a as M,Da as O,Oa as m,Pa as l,Qa as y,Ra as b,Sa as v,T as u,U as f,Ub as w,Xa as o,Ya as i,Za as h,_a as C,bb as x,cb as c,ib as E,kb as a,lb as _,mb as I,oa as P,qa as d,ya as p}from"./chunk-IDMXUBOL.js";var L=(t,e)=>e._id;function V(t,e){if(t&1){let n=C();o(0,"button",8),x("click",function(){let s=u(n).$implicit,g=c();return f(g.selectCategory(s))}),a(1),i()}if(t&2){let n=e.$implicit,r=c();E("active",r.selectedCategory===n),d(),I(" ",n," ")}}function j(t,e){t&1&&(o(0,"div",5),h(1,"div",9),o(2,"p"),a(3,"Loading menu..."),i()())}function D(t,e){t&1&&(o(0,"span",14),a(1,"\u{1F96C} Veg"),i())}function $(t,e){t&1&&(o(0,"span",15),a(1,"\u{1F356} Non-Veg"),i())}function R(t,e){if(t&1){let n=C();o(0,"img",24),x("error",function(){u(n);let s=c().$implicit,g=c(2);return f(g.handleImageError(s._id))}),i()}if(t&2){let n=c().$implicit;M("src",n.image,P)("alt",n.name)}}function N(t,e){if(t&1&&(o(0,"div",17),a(1),i()),t&2){let n=c().$implicit;d(),_(n.name.charAt(0))}}function B(t,e){t&1&&h(0,"span",26)}function U(t,e){t&1&&a(0," Add to Cart ")}function q(t,e){if(t&1){let n=C();o(0,"button",25),x("click",function(){u(n);let s=c().$implicit,g=c(2);return f(g.addToCart(s))}),m(1,B,1,0,"span",26)(2,U,1,0),i()}if(t&2){let n=c().$implicit,r=c(2);M("disabled",r.addingToCart===n._id),d(),l(r.addingToCart===n._id?1:2)}}function W(t,e){t&1&&(o(0,"span",23),a(1,"Unavailable"),i())}function Y(t,e){if(t&1&&(o(0,"div",11)(1,"div",12)(2,"span",13),a(3),i(),m(4,D,2,0,"span",14)(5,$,2,0,"span",15),m(6,R,1,2,"img",16)(7,N,2,1,"div",17),i(),o(8,"div",18)(9,"h3"),a(10),i(),o(11,"p",19),a(12),i(),o(13,"div",20)(14,"span",21),a(15),i(),m(16,q,3,2,"button",22)(17,W,2,0,"span",23),i()()()),t&2){let n=e.$implicit,r=c(2);E("unavailable",!n.isAvailable),d(3),_(n.category),d(),l(n.isVeg?4:5),d(2),l(n.image&&!r.failedImages.has(n._id)?6:7),d(4),_(n.name),d(2),_(n.description),d(3),_(r.formatPrice(n.price)),d(),l(n.isAvailable?16:17)}}function G(t,e){if(t&1&&(o(0,"div",6),b(1,Y,18,9,"div",10,L),i()),t&2){let n=c();d(),v(n.filteredItems)}}function H(t,e){t&1&&(o(0,"div",7)(1,"span",27),a(2,"\u{1F37D}\uFE0F"),i(),o(3,"h3"),a(4,"No items found"),i(),o(5,"p"),a(6,"No items available in this category"),i()())}var A=class t{constructor(e,n,r,s,g){this.menuService=e;this.cartService=n;this.authService=r;this.route=s;this.router=g}menuItems=[];filteredItems=[];categories=["All","Coffee","Beverages","Snacks","Waffle","Cakes"];selectedCategory="All";isLoading=!0;addingToCart=null;failedImages=new Set;ngOnInit(){this.loadMenu(),this.route.queryParams.subscribe(e=>{e.category&&(this.selectedCategory=e.category,this.filterItems())})}loadMenu(){this.isLoading=!0,this.menuService.getMenuItems().subscribe({next:e=>{e.success&&e.menuItems&&(this.menuItems=e.menuItems,this.filterItems()),this.isLoading=!1},error:()=>{this.isLoading=!1}})}filterItems(){this.selectedCategory==="All"?this.filteredItems=this.menuItems:this.filteredItems=this.menuItems.filter(e=>e.category===this.selectedCategory)}selectCategory(e){this.selectedCategory=e,this.filterItems()}addToCart(e){if(!this.authService.isLoggedIn){alert("Please login to add items to cart"),this.router.navigate(["/login"]);return}this.addingToCart=e._id,this.cartService.addToCart(e._id).subscribe({next:()=>{this.addingToCart=null},error:()=>{this.addingToCart=null,alert("Failed to add item to cart")}})}handleImageError(e){this.failedImages.add(e)}formatPrice(e){return"\u20B9"+e.toFixed(2)}static \u0275fac=function(n){return new(n||t)(p(z),p(F),p(T),p(S),p(k))};static \u0275cmp=O({type:t,selectors:[["app-menu"]],decls:14,vars:3,consts:[[1,"menu-page"],[1,"menu-header"],[1,"highlight"],[1,"category-filter"],[1,"category-btn",3,"active"],[1,"loading"],[1,"menu-grid"],[1,"empty-state"],[1,"category-btn",3,"click"],[1,"spinner-large"],[1,"menu-card",3,"unavailable"],[1,"menu-card"],[1,"menu-card-image"],[1,"category-tag"],[1,"veg-badge"],[1,"non-veg-badge"],[1,"menu-item-image",3,"src","alt"],[1,"image-placeholder"],[1,"menu-card-content"],[1,"description"],[1,"menu-card-footer"],[1,"price"],[1,"btn-add",3,"disabled"],[1,"unavailable-text"],[1,"menu-item-image",3,"error","src","alt"],[1,"btn-add",3,"click","disabled"],[1,"spinner-small"],[1,"empty-icon"]],template:function(n,r){n&1&&(o(0,"div",0)(1,"div",1)(2,"h1"),a(3,"Our "),o(4,"span",2),a(5,"Menu"),i()(),o(6,"p"),a(7,"Explore our delicious selection of coffees, beverages, snacks, and desserts"),i()(),o(8,"div",3),b(9,V,2,3,"button",4,y),i(),m(11,j,4,0,"div",5),m(12,G,3,0,"div",6),m(13,H,7,0,"div",7),i()),n&2&&(d(9),v(r.categories),d(2),l(r.isLoading?11:-1),d(),l(!r.isLoading&&r.filteredItems.length>0?12:-1),d(),l(!r.isLoading&&r.filteredItems.length===0?13:-1))},dependencies:[w],styles:['.menu-page[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem}.menu-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.menu-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;color:#fff;margin-bottom:.5rem}.highlight[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f39c12,#e74c3c);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.menu-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888;font-size:1.1rem}.category-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem;margin-bottom:2rem;flex-wrap:wrap}.category-btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:25px;color:#fff;cursor:pointer;transition:all .3s ease;font-weight:500}.category-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.category-btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f39c12,#e74c3c);border-color:transparent}.loading[_ngcontent-%COMP%]{text-align:center;padding:4rem}.spinner-large[_ngcontent-%COMP%]{width:50px;height:50px;border:3px solid rgba(255,255,255,.1);border-top-color:#f39c12;border-radius:50%;margin:0 auto 1rem;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888}.menu-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1.5rem}.menu-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a1a2e,#16213e);border-radius:16px;overflow:hidden;transition:all .3s ease;border:1px solid rgba(255,255,255,.1)}.menu-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 20px 40px #0000004d}.menu-card.unavailable[_ngcontent-%COMP%]{opacity:.6}.menu-card-image[_ngcontent-%COMP%]{position:relative;height:160px;background:linear-gradient(135deg,#2a2a4a,#3a3a5a);display:flex;align-items:center;justify-content:center;overflow:hidden}.menu-item-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .5s ease;display:block}.menu-item-image[_ngcontent-%COMP%]:not([src]), .menu-item-image[src=""][_ngcontent-%COMP%]{visibility:hidden}.menu-card[_ngcontent-%COMP%]:hover   .menu-item-image[_ngcontent-%COMP%]{transform:scale(1.1)}.image-placeholder[_ngcontent-%COMP%]{width:80px;height:80px;background:linear-gradient(135deg,#f39c12,#e74c3c);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:2rem;color:#fff;font-weight:700}.category-tag[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;background:#0009;color:#f39c12;padding:.25rem .75rem;border-radius:15px;font-size:.75rem;font-weight:500}.veg-badge[_ngcontent-%COMP%], .non-veg-badge[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;padding:.25rem .5rem;border-radius:8px;font-size:.7rem}.veg-badge[_ngcontent-%COMP%]{background:#2ecc7133;color:#2ecc71}.non-veg-badge[_ngcontent-%COMP%]{background:#e74c3c33;color:#e74c3c}.menu-card-content[_ngcontent-%COMP%]{padding:1.25rem}.menu-card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin-bottom:.5rem;font-size:1.1rem}.description[_ngcontent-%COMP%]{color:#888;font-size:.9rem;margin-bottom:1rem;line-height:1.4;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.menu-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.price[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#f39c12}.btn-add[_ngcontent-%COMP%]{padding:.5rem 1rem;background:linear-gradient(135deg,#f39c12,#e74c3c);border:none;border-radius:8px;color:#fff;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:.5rem}.btn-add[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.05)}.btn-add[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.spinner-small[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.unavailable-text[_ngcontent-%COMP%]{color:#e74c3c;font-size:.9rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem}.empty-icon[_ngcontent-%COMP%]{font-size:4rem;display:block;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888}@media(max-width:768px){.menu-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.menu-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.menu-page[_ngcontent-%COMP%]{padding:1rem}.category-filter[_ngcontent-%COMP%]{justify-content:flex-start;padding:.5rem 0;overflow-x:auto;-webkit-overflow-scrolling:touch;gap:.4rem}.category-btn[_ngcontent-%COMP%]{padding:.6rem 1.2rem;font-size:.9rem;white-space:nowrap}}@media(max-width:480px){.menu-card-image[_ngcontent-%COMP%]{height:140px}.menu-card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.price[_ngcontent-%COMP%]{font-size:1.1rem}.btn-add[_ngcontent-%COMP%]{padding:.4rem .8rem;font-size:.85rem}}']})};export{A as MenuComponent};
