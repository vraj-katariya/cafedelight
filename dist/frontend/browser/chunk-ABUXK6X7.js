import{a as O}from"./chunk-JLV7PS2X.js";import{b as S,c as m,d as R,e as y,g as E,j as T,k as F,q as N,s as A}from"./chunk-UFBRTC2V.js";import{d as P,e as w,h as M}from"./chunk-5EQP7JGP.js";import{Da as x,Oa as d,Pa as l,Ta as C,Ua as s,Ub as v,Va as r,Wa as c,ab as b,c as h,cb as p,ib as u,kb as i,mb as _,qa as a,ya as g}from"./chunk-IDMXUBOL.js";function L(e,o){if(e&1&&(s(0,"div",3),i(1),r()),e&2){let t=p();a(),_(" ",t.errorMessage," ")}}function z(e,o){if(e&1&&(s(0,"div",4),i(1),r()),e&2){let t=p();a(),_(" ",t.successMessage," ")}}function D(e,o){e&1&&i(0," Name is required ")}function G(e,o){e&1&&i(0," Name must be at least 2 characters ")}function j(e,o){if(e&1&&(s(0,"span",9),d(1,D,1,0)(2,G,1,0),r()),e&2){let t=p();a(),l(t.f.name.errors!=null&&t.f.name.errors.required?1:t.f.name.errors!=null&&t.f.name.errors.minlength?2:-1)}}function I(e,o){e&1&&i(0," Email is required ")}function V(e,o){e&1&&i(0," Please enter a valid email ")}function B(e,o){if(e&1&&(s(0,"span",9),d(1,I,1,0)(2,V,1,0),r()),e&2){let t=p();a(),l(t.f.email.errors!=null&&t.f.email.errors.required?1:t.f.email.errors!=null&&t.f.email.errors.email?2:-1)}}function J(e,o){e&1&&i(0," Password is required ")}function Y(e,o){e&1&&i(0," Min 6 characters ")}function Z(e,o){e&1&&i(0," Must contain letter & number ")}function $(e,o){if(e&1&&(s(0,"span",9),d(1,J,1,0)(2,Y,1,0)(3,Z,1,0),r()),e&2){let t=p();a(),l(t.f.password.errors!=null&&t.f.password.errors.required?1:t.f.password.errors!=null&&t.f.password.errors.minlength?2:t.f.password.errors!=null&&t.f.password.errors.pattern?3:-1)}}function H(e,o){e&1&&i(0," Confirm password ")}function K(e,o){e&1&&i(0," Passwords don't match ")}function Q(e,o){if(e&1&&(s(0,"span",9),d(1,H,1,0)(2,K,1,0),r()),e&2){let t=p();a(),l(t.f.confirmPassword.errors!=null&&t.f.confirmPassword.errors.required?1:t.f.confirmPassword.errors!=null&&t.f.confirmPassword.errors.mismatch?2:-1)}}function U(e,o){e&1&&(c(0,"span",24),i(1," Creating Account... "))}function W(e,o){e&1&&i(0," Create Account ")}var k=class e{constructor(o,t,n){this.fb=o;this.authService=t;this.router=n;this.registerForm=this.fb.group({name:["",[m.required,m.minLength(2)]],email:["",[m.required,m.email]],password:["",[m.required,m.minLength(6),m.pattern(/^(?=.*[A-Za-z])(?=.*\d).+$/)]],confirmPassword:["",[m.required]],phone:[""],address:[""]},{validators:this.passwordMatchValidator})}registerForm;isLoading=!1;errorMessage="";successMessage="";passwordMatchValidator(o){let t=o.get("password"),n=o.get("confirmPassword");return t&&n&&t.value!==n.value&&n.setErrors({mismatch:!0}),null}onSubmit(){if(this.registerForm.invalid){this.registerForm.markAllAsTouched();return}this.isLoading=!0,this.errorMessage="";let n=this.registerForm.value,{confirmPassword:o}=n,t=h(n,["confirmPassword"]);this.authService.register(t).subscribe({next:f=>{this.isLoading=!1,f.success&&(this.successMessage="Registration successful! Redirecting...",setTimeout(()=>{this.router.navigate(["/booking"])},1500))},error:f=>{this.isLoading=!1,f.error?.errors?this.errorMessage=f.error.errors.map(q=>q.msg).join(", "):this.errorMessage=f.error?.message||"Registration failed. Please try again."}})}get f(){return this.registerForm.controls}static \u0275fac=function(t){return new(t||e)(g(N),g(O),g(P))};static \u0275cmp=x({type:e,selectors:[["app-register"]],decls:47,vars:17,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-header"],[1,"error-alert"],[1,"success-alert"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","name","placeholder","Enter your full name"],[1,"error-text"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Enter your email"],[1,"form-row"],["for","password"],["type","password","id","password","formControlName","password","placeholder","Create password"],["for","confirmPassword"],["type","password","id","confirmPassword","formControlName","confirmPassword","placeholder","Confirm password"],["for","phone"],["type","tel","id","phone","formControlName","phone","placeholder","Enter phone number"],["for","address"],["type","text","id","address","formControlName","address","placeholder","Enter your address"],["type","submit",1,"btn-submit",3,"disabled"],[1,"auth-footer"],["routerLink","/login"],[1,"spinner"]],template:function(t,n){t&1&&(s(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),i(4,"Create Account"),r(),s(5,"p"),i(6,"Join Cafe Delight today"),r()(),d(7,L,2,1,"div",3),d(8,z,2,1,"div",4),s(9,"form",5),b("ngSubmit",function(){return n.onSubmit()}),s(10,"div",6)(11,"label",7),i(12,"Full Name"),r(),c(13,"input",8),d(14,j,3,1,"span",9),r(),s(15,"div",6)(16,"label",10),i(17,"Email Address"),r(),c(18,"input",11),d(19,B,3,1,"span",9),r(),s(20,"div",12)(21,"div",6)(22,"label",13),i(23,"Password"),r(),c(24,"input",14),d(25,$,4,1,"span",9),r(),s(26,"div",6)(27,"label",15),i(28,"Confirm Password"),r(),c(29,"input",16),d(30,Q,3,1,"span",9),r()(),s(31,"div",6)(32,"label",17),i(33,"Phone (Optional)"),r(),c(34,"input",18),r(),s(35,"div",6)(36,"label",19),i(37,"Address (Optional)"),r(),c(38,"input",20),r(),s(39,"button",21),d(40,U,2,0)(41,W,1,0),r()(),s(42,"div",22)(43,"p"),i(44,"Already have an account? "),s(45,"a",23),i(46,"Sign in"),r()()()()()),t&2&&(a(7),l(n.errorMessage?7:-1),a(),l(n.successMessage?8:-1),a(),C("formGroup",n.registerForm),a(4),u("error",n.f.name.touched&&n.f.name.invalid),a(),l(n.f.name.touched&&n.f.name.invalid?14:-1),a(4),u("error",n.f.email.touched&&n.f.email.invalid),a(),l(n.f.email.touched&&n.f.email.invalid?19:-1),a(5),u("error",n.f.password.touched&&n.f.password.invalid),a(),l(n.f.password.touched&&n.f.password.invalid?25:-1),a(4),u("error",n.f.confirmPassword.touched&&n.f.confirmPassword.invalid),a(),l(n.f.confirmPassword.touched&&n.f.confirmPassword.invalid?30:-1),a(9),C("disabled",n.isLoading),a(),l(n.isLoading?40:41))},dependencies:[v,M,w,A,E,S,R,y,F,T],styles:[".auth-container[_ngcontent-%COMP%]{min-height:calc(100vh - 200px);display:flex;align-items:center;justify-content:center;padding:2rem}.auth-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a1a2e,#16213e);border-radius:24px;padding:3rem;width:100%;max-width:550px;box-shadow:0 20px 60px #0000004d;border:1px solid rgba(255,255,255,.1)}.auth-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.auth-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2rem;margin-bottom:.5rem}.auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888}.error-alert[_ngcontent-%COMP%]{background:#e74c3c1a;border:1px solid #e74c3c;color:#e74c3c;padding:1rem;border-radius:12px;margin-bottom:1.5rem;text-align:center}.success-alert[_ngcontent-%COMP%]{background:#2ecc711a;border:1px solid #2ecc71;color:#2ecc71;padding:1rem;border-radius:12px;margin-bottom:1.5rem;text-align:center}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:#fff;margin-bottom:.5rem;font-weight:500}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:1rem;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:12px;color:#fff;font-size:1rem;transition:all .3s ease;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#666}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#f39c12;box-shadow:0 0 0 3px #f39c121a}.form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%]{border-color:#e74c3c}.error-text[_ngcontent-%COMP%]{color:#e74c3c;font-size:.85rem;margin-top:.5rem;display:block}.btn-submit[_ngcontent-%COMP%]{width:100%;padding:1rem;background:linear-gradient(135deg,#f39c12,#e74c3c);border:none;border-radius:12px;color:#fff;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 10px 30px #f39c124d}.btn-submit[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.auth-footer[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid rgba(255,255,255,.1)}.auth-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888}.auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f39c12;text-decoration:none;font-weight:500}.auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media(max-width:600px){.auth-container[_ngcontent-%COMP%]{padding:1rem}.auth-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}.auth-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem}}@media(max-width:500px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};export{k as RegisterComponent};
